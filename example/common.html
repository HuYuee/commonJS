<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>commonJS 测试</title>
    <script src="../dist/common.js"></script>
    <script>
        COM.$W.domReady(function() {
            var img = COM.$D.byId("image");
            COM.$E.addEvent(img, "load", function() {
                paint(COM.$S.base64Toimg(COM.$S.imgToBase64(img)));
            });
            function paint(imgData) {
                var canvas = document.getElementById("myCanvas");
                var ctx = canvas.getContext("2d");
                ctx.fillRect(0, 0, imgData.width, imgData.height);
                ctx.putImageData(imgData, 0, 0);
            }
        });
    </script>
</head>
<body>
<img id="image" src="images/subscription.jpg"/>
<canvas id="myCanvas"></canvas>
<span id="main"></span>
</body>
</html>